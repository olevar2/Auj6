# MetaApi Configuration for AUJ Platform - Linux Optimized
# Production-ready configuration for Linux deployment

# MetaApi Connection Parameters
metaapi:
  # Enable MetaApi (Primary data source for Linux)
  enabled: true
  
  # API Token (set via environment variable AUJ_METAAPI_TOKEN)
  token: ""
  
  # Account Configuration (set via environment variable AUJ_METAAPI_ACCOUNT_ID)
  account_id: ""
  
  # Connection Settings - Optimized for Linux
  timeout_seconds: 30
  max_retries: 3
  retry_delay_seconds: 5
  
  # Application Settings
  application: "AUJ-Platform"
  domain: "auj-platform.com"
  
  # Deployment Configuration - Linux Production
  deployment_configuration:
    environment: "production"
    region: "london"  # or "new-york" based on location
    quoting_api: true
    
  # Trading Configuration
  trading:
    # Risk Parameters
    max_risk_percent: 0.02
    default_volume: 0.1
    min_volume: 0.01
    max_volume: 10.0
    volume_step: 0.01
    
    # Order Parameters
    deviation_points: 20
    magic_number: 234567
    order_timeout_seconds: 30
    slippage_tolerance: 0.5
    
    # Advanced Trading Features
    enable_partial_fills: true
    enable_market_orders: true
    enable_pending_orders: true
    enable_stop_orders: true
    enable_limit_orders: true

# Data Streaming Configuration - Linux Optimized
streaming:
  # WebSocket Settings
  websocket:
    enabled: true
    auto_reconnect: true
    reconnect_delay_seconds: 5
    max_reconnect_attempts: 10
    ping_interval_seconds: 30
    connection_timeout_seconds: 60
    
  # Data Types
  data_types:
    ticks: true
    candles: true
    books: false
    
  # Subscription Management
  subscriptions:
    auto_subscribe_symbols: true
    symbol_filter: []
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "30m"
      - "1h"
      - "4h"
      - "1d"

# Historical Data Configuration
historical_data:
  max_candles_per_request: 1000
  max_ticks_per_request: 1000
  cache_duration_minutes: 60
  default_timeframe: "1h"
  default_limit: 1000
  fill_gaps: true
  remove_duplicates: true
  validate_timestamps: true

# Performance Optimization for Linux
performance:
  # Connection Pooling
  enable_connection_pooling: true
  max_connections: 10
  connection_idle_timeout: 300
  
  # Caching
  enable_caching: true
  cache_size_mb: 100
  cache_expiry_minutes: 30
  
  # Rate Limiting
  api_rate_limit_per_second: 10
  websocket_rate_limit_per_second: 100

# Logging Configuration
logging:
  level: "INFO"
  console: true
  file: true
  file_settings:
    path: "logs/metaapi.log"
    max_size_mb: 50
    backup_count: 5
    rotation: "daily"
  log_trading_operations: true
  log_errors: true

# Security Configuration
security:
  enable_data_encryption: true
  encryption_algorithm: "AES-256"
  enable_audit_log: true
  audit_log_path: "logs/metaapi_audit.log"
